(function(e){function n(n){for(var r,s,u=n[0],c=n[1],l=n[2],i=0,b=[];i<u.length;i++)s=u[i],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&b.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(n);while(b.length)b.shift()();return o.push.apply(o,l||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],r=!0,u=1;u<t.length;u++){var c=t[u];0!==a[c]&&(r=!1)}r&&(o.splice(n--,1),e=s(s.s=t[0]))}return e}var r={},a={app:0},o=[];function s(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=r,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)s.d(t,r,function(n){return e[n]}.bind(null,r));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=n,u=u.slice();for(var l=0;l<u.length;l++)n(u[l]);var d=c;o.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},1:function(e,n){},10:function(e,n){},11:function(e,n){},12:function(e,n){},13:function(e,n){},14:function(e,n){},2:function(e,n){},3:function(e,n){},4:function(e,n){},5:function(e,n){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("7a23"),a=t("cf05"),o=t.n(a),s={id:"app"},u=Object(r["d"])("img",{alt:"Profrec Logo",src:o.a,width:"100",height:"100"},null,-1),c=Object(r["e"])("Home"),l=Object(r["e"])(" | "),d=Object(r["e"])("Login");function i(e,n){var t=Object(r["s"])("router-link"),a=Object(r["s"])("router-view");return Object(r["o"])(),Object(r["c"])("div",s,[Object(r["d"])("nav",null,[u,Object(r["f"])(t,{to:{name:"Home"}},{default:Object(r["z"])((function(){return[c]})),_:1}),l,Object(r["f"])(t,{to:{name:"Login"}},{default:Object(r["z"])((function(){return[d]})),_:1}),Object(r["f"])(a)])])}var b=t("6b0d"),p=t.n(b);const m={},f=p()(m,[["render",i]]);var O=f,j=t("6c02"),g={id:"home"},h=Object(r["d"])("h1",null,"Profrec",-1),w=[h];function v(e,n,t,a,o,s){return Object(r["o"])(),Object(r["c"])("div",g,w)}var y={name:"Home"};const x=p()(y,[["render",v]]);var M=x,E={id:"home"},A=Object(r["d"])("h1",null,"Profrec: Login",-1),P=Object(r["d"])("br",null,null,-1),k=Object(r["d"])("label",{for:"username"},"Username: ",-1),U=Object(r["d"])("br",null,null,-1),R=Object(r["d"])("label",{for:"password"},"Password: ",-1),L=Object(r["d"])("br",null,null,-1),C=Object(r["d"])("button",{type:"submit"},"Login",-1),_=Object(r["d"])("p",null,"New to this site?",-1),S=Object(r["d"])("br",null,null,-1),T=Object(r["e"])("Register");function z(e,n,t,a,o,s){var u=Object(r["s"])("router-link");return Object(r["o"])(),Object(r["c"])("div",E,[A,Object(r["d"])("form",{onSubmit:n[2]||(n[2]=Object(r["B"])((function(){return s.validateLogin&&s.validateLogin.apply(s,arguments)}),["prevent"]))},[Object(r["A"])(Object(r["d"])("p",{style:{color:"red"}},Object(r["u"])(o.loginErrorMessage),513),[[r["x"],null!=o.loginErrorMessage]]),P,k,Object(r["A"])(Object(r["d"])("input",{type:"textbox",id:"username","onUpdate:modelValue":n[0]||(n[0]=function(e){return o.username=e})},null,512),[[r["w"],o.username]]),U,R,Object(r["A"])(Object(r["d"])("input",{type:"password",id:"password","onUpdate:modelValue":n[1]||(n[1]=function(e){return o.password=e})},null,512),[[r["w"],o.password]]),L,C],32),_,S,Object(r["f"])(u,{to:{name:"Register"}},{default:Object(r["z"])((function(){return[T]})),_:1})])}var $=t("1da1"),V=(t("96cf"),t("d4ec")),H=t("bee2"),D=t("bc3a"),I=t.n(D),N=I.a.create({baseURL:"http://localhost:8080/api/",headers:{"Content-type":"application/json"}}),Z=function(){function e(){Object(V["a"])(this,e)}return Object(H["a"])(e,[{key:"getAll",value:function(){return N.get("/users")}},{key:"get",value:function(e){return N.get("/users/".concat(e))}},{key:"loginRoute",value:function(){return N.get("/login")}},{key:"authenticateLogin",value:function(e){return N.post("/login",e)}},{key:"create",value:function(e){return N.post("/users",e)}},{key:"update",value:function(e,n){return N.put("/users/".concat(e),n)}},{key:"delete",value:function(e){return N.delete("/users/".concat(e))}},{key:"findByUsername",value:function(e){return N.get("/users?username=".concat(e))}}]),e}(),B=new Z,q=t("1c46"),G={name:"Login",components:{},data:function(){return{username:null,password:null,loginErrorMessage:null}},methods:{validateLogin:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function n(){var t,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,B.authenticateLogin({username:e.username,password:e.password});case 2:if(t=n.sent,t){n.next=7;break}e.loginErrorMessage="Username or Password is incorrect",n.next=15;break;case 7:if(e.loginErrorMessage=null,0!==t.data){n.next=13;break}return n.next=11,e.$router.push("/suspended");case 11:n.next=15;break;case 13:r={username:e.username,password:q.createHash("md5").update(e.password).digest("hex"),accountType:t.data},e.$store.dispatch("pushUserdata",r).then((function(){e.$router.push("/user/dashboard")}));case 15:case"end":return n.stop()}}),n)})))()}}};const J=p()(G,[["render",z]]);var W=J,Y={id:"home"},F=Object(r["d"])("h1",null,"Profrec: Create an Account",-1),K=Object(r["d"])("label",{for:"username"},"Username: ",-1),Q=Object(r["d"])("br",null,null,-1),X=Object(r["d"])("br",null,null,-1),ee=Object(r["d"])("label",{for:"email"},"Email Address: ",-1),ne=Object(r["d"])("br",null,null,-1),te=Object(r["d"])("br",null,null,-1),re=Object(r["d"])("label",{for:"password"},"Password: ",-1),ae=Object(r["d"])("br",null,null,-1),oe={style:{color:"red"}},se=Object(r["d"])("br",null,null,-1),ue=Object(r["d"])("label",{for:"passwordconf"},"Confirm Password: ",-1),ce=Object(r["d"])("br",null,null,-1),le={style:{color:"red"}},de=Object(r["d"])("br",null,null,-1),ie=Object(r["d"])("button",{type:"submit"},"Register",-1);function be(e,n,t,a,o,s){return Object(r["o"])(),Object(r["c"])("div",Y,[F,Object(r["d"])("form",{onSubmit:n[4]||(n[4]=Object(r["B"])((function(){return s.processRegister&&s.processRegister.apply(s,arguments)}),["prevent"]))},[K,Object(r["A"])(Object(r["d"])("input",{type:"textbox",id:"username","onUpdate:modelValue":n[0]||(n[0]=function(e){return o.username=e})},null,512),[[r["w"],o.username]]),Q,Object(r["A"])(Object(r["d"])("p",{style:{color:"red"}},Object(r["u"])(o.usernameErrorMessage),513),[[r["x"],null!=o.usernameErrorMessage]]),X,ee,Object(r["A"])(Object(r["d"])("input",{type:"textbox",id:"email","onUpdate:modelValue":n[1]||(n[1]=function(e){return o.email=e})},null,512),[[r["w"],o.email]]),ne,Object(r["A"])(Object(r["d"])("p",{style:{color:"red"}},Object(r["u"])(o.emailErrorMessage),513),[[r["x"],null!=o.emailErrorMessage]]),te,re,Object(r["A"])(Object(r["d"])("input",{type:"password",id:"password","onUpdate:modelValue":n[2]||(n[2]=function(e){return o.password=e})},null,512),[[r["w"],o.password]]),ae,Object(r["A"])(Object(r["d"])("p",oe,"Invalid Password",512),[[r["x"],null!=o.passwordErrorMessage]]),se,ue,Object(r["A"])(Object(r["d"])("input",{type:"password",id:"passwordconf","onUpdate:modelValue":n[3]||(n[3]=function(e){return o.passwordConf=e})},null,512),[[r["w"],o.passwordConf]]),ce,Object(r["A"])(Object(r["d"])("p",le,"Passwords Do Not Match",512),[[r["x"],null!=o.passwordConfErrorMessage]]),de,ie],32)])}t("ac1f"),t("466d");var pe={name:"Register",data:function(){return{username:null,email:null,password:null,passwordConf:null,usernameErrorMessage:null,emailErrorMessage:null,passwordErrorMessage:null,passwordConfErrorMessage:null}},methods:{processRegister:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null==e.username?e.usernameErrorMessage="Username cannot be empty":e.username.length<3||e.username.length>20?e.usernameErrorMessage="Username must be between 3 and 20 characters long":e.username.match("^[A-Za-z0-9_-]*$")?e.usernameErrorMessage=null:e.usernameErrorMessage="Usernames can only contain alphanumeric characters and underscores",e.email.match("^[A-Za-z0-9]+@[A-Za-z0-9]+.[A-Za-z0-9.]+$")?e.emailErrorMessage=null:e.emailErrorMessage="Invalid Email Address",e.password.length<12?e.passwordErrorMessage="Password must be at least 12 characters long":e.passwordErrorMessage=null,e.password!==e.passwordConf?e.passwordConfErrorMessage="Passwords do not match":e.passwordConfErrorMessage=null,null!=e.usernameErrorMessage||null!=e.emailErrorMessage||null!=e.passwordErrorMessage||null!=e.passwordConfErrorMessage){n.next=9;break}return n.next=7,B.create({username:e.username,email:e.email,password:e.password});case 7:return n.next=9,e.$router.push("/login");case 9:case"end":return n.stop()}}),n)})))()}}};const me=p()(pe,[["render",be]]);var fe=me,Oe=Object(r["d"])("h1",null,"User Dashboard",-1),je=Object(r["e"])("Admin Panel");function ge(e,n,t,a,o,s){var u=Object(r["s"])("router-link");return Object(r["o"])(),Object(r["c"])("div",null,[Object(r["A"])(Object(r["d"])("div",null," You need to be logged in to be able to visit this page ",512),[[r["x"],null===s.user]]),Object(r["A"])(Object(r["d"])("div",null,[Oe,Object(r["d"])("p",null,"Welcome "+Object(r["u"])(s.user.username),1),Object(r["A"])(Object(r["d"])("div",null,[Object(r["f"])(u,{to:{name:"AdminPanel"}},{default:Object(r["z"])((function(){return[je]})),_:1})],512),[[r["x"],5===s.user.accountType]])],512),[[r["x"],null!==s.user]])])}var he={name:"UserDashboard",props:{userdata:{type:Object,required:!0}},computed:{user:{get:function(){return this.$store.state.userdata}}}};const we=p()(he,[["render",ge]]);var ve=we;function ye(e,n,t,a,o,s){return Object(r["o"])(),Object(r["c"])("div",null," Sorry but your account has been suspended. Contact the site administrator for details. ")}var xe={name:"Suspended"};const Me=p()(xe,[["render",ye]]);var Ee=Me,Ae=Object(r["d"])("h1",null,"Admin Panel",-1),Pe=Object(r["d"])("p",null,"You have made it to the admin panel. With great power comes great responsibility.",-1),ke=[Ae,Pe];function Ue(e,n,t,a,o,s){return Object(r["o"])(),Object(r["c"])("div",null,[Object(r["A"])(Object(r["d"])("div",null," Only site admins are allowed to have access to this page ",512),[[r["x"],5!==s.userdata.accountType]]),Object(r["A"])(Object(r["d"])("div",null,ke,512),[[r["x"],5===s.userdata.accountType]])])}var Re={name:"AdminPanel",props:{user:{type:Object,required:!0}},computed:{userdata:{get:function(){return this.$store.state.userdata}}}};const Le=p()(Re,[["render",Ue]]);var Ce=Le,_e=[{path:"/",name:"Home",component:M},{path:"/login",name:"Login",component:W},{path:"/register",name:"Register",component:fe},{path:"/user/dashboard",name:"User Dashboard",component:ve},{path:"/suspended",name:"Suspended",component:Ee},{path:"/admin/panel",name:"Admin Panel",component:Ce}],Se=Object(j["a"])({history:Object(j["b"])("/"),routes:_e}),Te=Se,ze=t("5502"),$e=Object(ze["a"])({state:{userdata:{},username:null,password:null,accountType:null},mutations:{LOGIN_USER:function(e,n){e.userdata=n,e.username=n.username,e.password=n.password,e.accountType=n.accountType}},actions:{pushUserdata:function(e,n){var t=e.commit;return t("LOGIN_USER",n)}}});Object(r["b"])(O).use($e).use(Te).mount("#app")},6:function(e,n){},7:function(e,n){},8:function(e,n){},9:function(e,n){},cf05:function(e,n,t){e.exports=t.p+"img/logo.bcd2d548.png"}});
//# sourceMappingURL=app.6203f081.js.map