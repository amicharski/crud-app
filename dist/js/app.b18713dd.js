(function(e){function t(t){for(var n,s,u=t[0],l=t[1],c=t[2],i=0,p=[];i<u.length;i++)s=u[i],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var l=r[u];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var d=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),a=r("cf05"),o=r.n(a),s={id:"app"},u=Object(n["d"])("img",{alt:"Profrec Logo",src:o.a,width:"100",height:"100"},null,-1),l=Object(n["e"])("Home"),c=Object(n["e"])(" | "),d=Object(n["e"])("Login");function i(e,t,r,a,o,i){var p=Object(n["t"])("router-link"),b=Object(n["t"])("router-view");return Object(n["p"])(),Object(n["c"])("div",s,[Object(n["d"])("nav",null,[u,Object(n["f"])(p,{to:{name:"Home"}},{default:Object(n["A"])((function(){return[l]})),_:1}),c,Object(n["f"])(p,{to:{name:"Login"}},{default:Object(n["A"])((function(){return[d]})),_:1}),Object(n["f"])(b)])])}var p={name:"App",computed:{user:{get:function(){return this.$store.state.userdata}}}},b=r("6b0d"),m=r.n(b);const O=m()(p,[["render",i]]);var f=O,j=r("6c02"),g={id:"home"},h=Object(n["d"])("h1",null,"Profrec",-1),v=Object(n["d"])("p",null,"A platform for recreational sports like no other",-1),w=[h,v];function y(e,t,r,a,o,s){return Object(n["p"])(),Object(n["c"])("div",g,w)}var E={name:"Home"};const M=m()(E,[["render",y]]);var x=M,A={id:"home"},P=Object(n["d"])("h1",null,"Profrec: Login",-1),U=Object(n["d"])("br",null,null,-1),S=Object(n["d"])("label",{for:"username"},"Username: ",-1),B=Object(n["d"])("br",null,null,-1),k=Object(n["d"])("label",{for:"password"},"Password: ",-1),R=Object(n["d"])("br",null,null,-1),C=Object(n["d"])("button",{type:"submit"},"Login",-1),_=Object(n["d"])("p",null,"New to this site?",-1),L=Object(n["d"])("br",null,null,-1),$=Object(n["e"])("Register");function T(e,t,r,a,o,s){var u=Object(n["t"])("router-link");return Object(n["p"])(),Object(n["c"])("div",A,[P,Object(n["d"])("form",{onSubmit:t[2]||(t[2]=Object(n["C"])((function(){return s.validateLogin&&s.validateLogin.apply(s,arguments)}),["prevent"]))},[Object(n["B"])(Object(n["d"])("p",{style:{color:"red"}},Object(n["v"])(o.loginErrorMessage),513),[[n["y"],null!=o.loginErrorMessage]]),U,S,Object(n["B"])(Object(n["d"])("input",{type:"textbox",id:"username","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.username=e})},null,512),[[n["x"],o.username]]),B,k,Object(n["B"])(Object(n["d"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.password=e})},null,512),[[n["x"],o.password]]),R,C],32),_,L,Object(n["f"])(u,{to:{name:"Register"}},{default:Object(n["A"])((function(){return[$]})),_:1})])}var D=r("1da1"),z=(r("96cf"),r("bc3a")),I=r.n(z),V=I.a.create({baseURL:"http://localhost:8080/api/",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}),H={name:"Login",components:{},data:function(){return{username:null,password:null,loginErrorMessage:null}},methods:{validateLogin:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V.post("login",{username:e.username,password:e.password});case 2:if(r=t.sent,console.log(r),r.data.successful){t.next=8;break}e.loginErrorMessage=r.data.message,t.next=16;break;case 8:return e.loginErrorMessage=null,t.t0=localStorage,t.next=12,r;case 12:return t.t1=t.sent.data.token,t.t0.setItem.call(t.t0,"token",t.t1),t.next=16,e.$router.push("/user/dashboard");case 16:case"end":return t.stop()}}),t)})))()}}};const Z=m()(H,[["render",T]]);var J=Z,N={id:"home"},W=Object(n["d"])("h1",null,"Profrec: Create an Account",-1),Y=Object(n["d"])("label",{for:"username"},"Username: ",-1),q=Object(n["d"])("br",null,null,-1),F=Object(n["d"])("br",null,null,-1),G=Object(n["d"])("label",{for:"email"},"Email Address: ",-1),K=Object(n["d"])("br",null,null,-1),Q=Object(n["d"])("br",null,null,-1),X=Object(n["d"])("label",{for:"password"},"Password: ",-1),ee=Object(n["d"])("br",null,null,-1),te={style:{color:"red"}},re=Object(n["d"])("br",null,null,-1),ne=Object(n["d"])("label",{for:"passwordconf"},"Confirm Password: ",-1),ae=Object(n["d"])("br",null,null,-1),oe={style:{color:"red"}},se=Object(n["d"])("br",null,null,-1),ue=Object(n["d"])("button",{type:"submit"},"Register",-1);function le(e,t,r,a,o,s){return Object(n["p"])(),Object(n["c"])("div",N,[W,Object(n["d"])("form",{onSubmit:t[4]||(t[4]=Object(n["C"])((function(){return s.processRegister&&s.processRegister.apply(s,arguments)}),["prevent"]))},[Y,Object(n["B"])(Object(n["d"])("input",{type:"textbox",id:"username","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.username=e})},null,512),[[n["x"],o.username]]),q,Object(n["B"])(Object(n["d"])("p",{style:{color:"red"}},Object(n["v"])(o.usernameErrorMessage),513),[[n["y"],null!=o.usernameErrorMessage]]),F,G,Object(n["B"])(Object(n["d"])("input",{type:"textbox",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.email=e})},null,512),[[n["x"],o.email]]),K,Object(n["B"])(Object(n["d"])("p",{style:{color:"red"}},Object(n["v"])(o.emailErrorMessage),513),[[n["y"],null!=o.emailErrorMessage]]),Q,X,Object(n["B"])(Object(n["d"])("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.password=e})},null,512),[[n["x"],o.password]]),ee,Object(n["B"])(Object(n["d"])("p",te,"Invalid Password",512),[[n["y"],null!=o.passwordErrorMessage]]),re,ne,Object(n["B"])(Object(n["d"])("input",{type:"password",id:"passwordconf","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.passwordConf=e})},null,512),[[n["x"],o.passwordConf]]),ae,Object(n["B"])(Object(n["d"])("p",oe,"Passwords Do Not Match",512),[[n["y"],null!=o.passwordConfErrorMessage]]),se,ue],32)])}r("ac1f"),r("466d");var ce={name:"Register",data:function(){return{username:null,email:null,password:null,passwordConf:null,usernameErrorMessage:null,emailErrorMessage:null,passwordErrorMessage:null,passwordConfErrorMessage:null}},methods:{processRegister:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==e.username?e.usernameErrorMessage="Username cannot be empty":e.username.length<3||e.username.length>20?e.usernameErrorMessage="Username must be between 3 and 20 characters long":e.username.match("^[A-Za-z0-9_-]*$")?e.usernameErrorMessage=null:e.usernameErrorMessage="Usernames can only contain alphanumeric characters and underscores",e.email.match("^[A-Za-z0-9]+@[A-Za-z0-9]+.[A-Za-z0-9.]+$")?e.emailErrorMessage=null:e.emailErrorMessage="Invalid Email Address",e.password.length<12?e.passwordErrorMessage="Password must be at least 12 characters long":e.passwordErrorMessage=null,e.password!==e.passwordConf?e.passwordConfErrorMessage="Passwords do not match":e.passwordConfErrorMessage=null,null!=e.usernameErrorMessage||null!=e.emailErrorMessage||null!=e.passwordErrorMessage||null!=e.passwordConfErrorMessage){t.next=8;break}return e.$store.dispatch("register",{username:e.username,email:e.email,password:e.password}),t.next=8,e.$router.push("/login");case 8:case"end":return t.stop()}}),t)})))()}}};const de=m()(ce,[["render",le]]);var ie=de,pe=Object(n["d"])("h1",null,"User Dashboard",-1),be=Object(n["e"])("Admin Panel");function me(e,t,r,a,o,s){var u=Object(n["t"])("router-link");return Object(n["p"])(),Object(n["c"])("div",null,[Object(n["B"])(Object(n["d"])("div",null," You need to be logged in to be able to visit this page ",512),[[n["y"],null===s.user]]),Object(n["B"])(Object(n["d"])("div",null,[pe,Object(n["d"])("p",null,"Welcome "+Object(n["v"])(s.user.username),1),Object(n["B"])(Object(n["d"])("div",null,[Object(n["f"])(u,{to:{name:"AdminPanel"}},{default:Object(n["A"])((function(){return[be]})),_:1})],512),[[n["y"],5===s.user.accountType]])],512),[[n["y"],null!==s.user]])])}var Oe={name:"UserDashboard",computed:{user:{get:function(){return this.$store.state.userdata}}},created:function(){return Object(D["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("user",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))()}};const fe=m()(Oe,[["render",me]]);var je=fe;function ge(e,t,r,a,o,s){return Object(n["p"])(),Object(n["c"])("div",null," Sorry but your account has been suspended. Contact the site administrator for details. ")}var he={name:"Suspended"};const ve=m()(he,[["render",ge]]);var we=ve,ye=Object(n["d"])("h1",null,"Admin Panel",-1),Ee=Object(n["d"])("p",null,"You have made it to the admin panel. With great power comes great responsibility.",-1),Me=[ye,Ee];function xe(e,t,r,a,o,s){return Object(n["p"])(),Object(n["c"])("div",null,[Object(n["B"])(Object(n["d"])("div",null," Only site admins are allowed to have access to this page ",512),[[n["y"],5!==s.userdata.accountType]]),Object(n["B"])(Object(n["d"])("div",null,Me,512),[[n["y"],5===s.userdata.accountType]])])}var Ae={name:"AdminPanel",props:{user:{type:Object,required:!0}},computed:{userdata:{get:function(){return this.$store.state.userdata}}}};const Pe=m()(Ae,[["render",xe]]);var Ue=Pe;function Se(e,t,r,a,o,s){return Object(n["p"])(),Object(n["c"])("div")}var Be={name:"UserLogout",created:function(){var e=this;this.$store.dispatch("nullUserdata").then((function(){e.$router.push("/login")}))}};const ke=m()(Be,[["render",Se]]);var Re=ke,Ce=[{path:"/",name:"Home",component:x},{path:"/login",name:"Login",component:J},{path:"/register",name:"Register",component:ie},{path:"/user/dashboard",name:"User Dashboard",component:je},{path:"/suspended",name:"Suspended",component:we},{path:"/admin/panel",name:"Admin Panel",component:Ue},{path:"/user/logout",name:"UserLogout",component:Re}],_e=Object(j["a"])({history:Object(j["b"])("/"),routes:Ce}),Le=_e,$e=(r("e9c4"),r("5502"));n["default"].use($e["a"]);var Te=new $e["a"].Store({state:{user:null},mutations:{SET_USER_DATA:function(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t)),I.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.token)}},actions:{register:function(e){var t=e.commit;return V.post("users",{username:this.username,email:this.email,password:this.password}).then((function(e){var r=e.data;console.log("User Data: ",userData),t("SET_USER_DATA",r)}))}}});Object(n["b"])(f).use(Te).use(Le).mount("#app")},cf05:function(e,t,r){e.exports=r.p+"img/logo.bcd2d548.png"}});
//# sourceMappingURL=app.b18713dd.js.map